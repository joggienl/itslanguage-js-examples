<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>ITSLanguage SDK demo</title>

    <!-- These two CSS files are only for the demo environment itself, not required for using the SDK in your project -->
    <link href="../../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="../css/demo.css" rel="stylesheet"/>
    <!-- This JS file is only for the demo environment itself, not required for using the SDK in your project -->
    <script src="https://cdn.ravenjs.com/1.3.0/jquery,native/raven.min.js"></script>

    <!-- Required for the ITSL recording button -->
    <link href="../css/itsl_audio_components.css" rel="stylesheet"/>
  </head>
  <body>
    <div class="container-fluid">
      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <a class="navbar-brand" href="http://www.itslanguage.nl">
              <img alt="Brand" src="../images/png/logo.png"/>
            </a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div>
            <ul class="nav navbar-nav navbar-right">
              <li class="active"><a href="#" id="recordingButton">Recording <span class="sr-only">(current)</span></a>
              </li>
              <li class="hidden"><a href="#" id="analysisButton">Analysis</a></li>
              <li class="hidden"><a href="#" id="recognitionButton">Recognition</a></li>
            </ul>
          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>

      <div class="page-header">
        <h1>Streaming audio demo</h1>
        <p class="lead">Stream audio to server as quick as possible. After processing, a download link becomes
                        available. All HTML5, no Flash.</p>
      </div>

      <div class="row" id="recordingControl">
        <div class="col-md-4">
          <h2>Try recording your voice</h2>
          <div id="recorder" class="defaultRecorder user"></div>
        </div>
      </div>

      <div class="row hidden" id="analysisControl">
        <div class="col-md-12">
          <h2>Try speaking "Bird watching" to analyse your pronunciation</h2>
          <div id="analysisRecorder" class="defaultRecorder user"></div>
        </div>
      </div>

      <div class="row hidden" id="recognitionControl">
        <div class="col-md-12">
          <h2>Try speaking "car", "bus" or "bike" to recognise your voice</h2>
          <div id="recognitionRecorder" class="defaultRecorder user"></div>
        </div>
      </div>

      <form>
        <div class="form-group">
          <label for="downloadUrl">Download link</label>
          <input disabled class="form-control" id="downloadUrl"
                 placeholder="After recording, the link appears here"/>
        </div>
      </form>

      <form id="recordingForm"></form>

      <form class="hidden" id="analysisForm">
        <div class="form-group">
          <label for="range1">Bad range to (-20 to <span id="range1out">-10</span>)</label>
          <input type="range" step="1" min="-20" max="20" value="-10" id="range1"/>
        </div>
        <div class="form-group">
          <label for="range2">Good range from (<span id="range2out">-5</span> to 20)</label>
          <input type="range" step="1" min="-20" max="20" value="-5" id="range2"/>
        </div>
        <div class="form-group">
          <label for="confidenceScore">Confidence Score</label>
          <input disabled class="form-control" id="confidenceScore"
                 placeholder="After alignment, the final confidence score appears here"/>
        </div>

        <div id="colouredSentence" class="colouredSentence"></div>
        <div id="detailedScores" class="detailedScores"></div>
      </form>

      <form class="hidden" id="recognitionForm">
        <div class="form-group">
          <label for="recognised">Recognised sentence</label>
          <input disabled class="form-control" id="recognised"
                 placeholder="After processing, the recognised sentence appears here"/>
        </div>
      </form>

      <div class="row">
        <div class="col-md-4">
          <p><a id="recordingDetailToggle" class="btn" href="#">View details &raquo;</a></p>
          <div class="hidden" id="recordingDetails">

            <form>
              <div class="form-group">
                <label for="connection">Websocket connection status</label>
                <input readonly class="form-control" id="connection"/>
              </div>
              <div class="form-group">
                <label for="sessionId">Session ID</label>
                <input disabled class="form-control" id="sessionId"
                       placeholder="Obtaining session from websocket server"/>
              </div>
              <div class="form-group">
                <label for="failureMessage">Failure message</label>
                <input disabled class="form-control" id="failureMessage"
                       placeholder="Possible failure message"/>
              </div>
            </form>

          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <p><a id="configDetailToggle" class="btn" href="#">View configuration &raquo;</a></p>
          <div class="hidden" id="configDetails">

            <form>
              <div class="form-group">
                <label for="apiUrl">REST API URL</label>
                <input class="form-control" id="apiUrl"/>
              </div>
              <div class="form-group">
                <label for="tenantId">Tenant ID</label>
                <input class="form-control" id="tenantId"/>
              </div>
              <div class="form-group">
                <label for="principal">Tenant principal</label>
                <input class="form-control" id="principal"/>
              </div>
              <div class="form-group">
                <label for="credentials">Tenant credentials</label>
                <input type="password" class="form-control" id="credentials"/>
              </div>
              <div class="form-group">
                <label for="organisationId">Organisation ID</label>
                <input class="form-control" id="organisationId" value="dummy"/>
              </div>
              <div class="form-group">
                <label for="challengeId">Challenge ID</label>
                <input class="form-control" id="challengeId"/>
              </div>
              <button type="submit" id="applyChallenge" class="btn btn-default">Apply challenge</button>
              <div class="form-group">
                <label for="studentId">Student ID</label>
                <input readonly class="form-control" id="studentId" value="dummy"/>
              </div>
              <div class="form-group">
                <label for="wsUrl">Websocket URL</label>
                <input class="form-control" id="wsUrl"/>
              </div>
              <div class="form-group">
                <label for="tokenId">Websocket Token</label>
                <input readonly class="form-control" id="tokenId" value="dummy"/>
              </div>
              <button type="submit" id="applyToken" class="btn btn-default">Connect</button>
            </form>

          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <p><a id="logToggle" class="btn" href="#">View log &raquo;</a></p>
          <div class="hidden" id="log"></div>
        </div>
      </div>

    </div> <!-- /container -->

    <script src="../js/demo/bundle.js"></script>
  </body>
</html>
